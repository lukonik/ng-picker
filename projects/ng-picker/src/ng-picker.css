/* ng-picker core styles
   This file ships with the library and can be imported
   by consumers in their global styles.
*/
@import './styles/reset.css';
@import './styles/datepicker.css';
@import './styles/month-view.css';
@import './styles/year-view.css';
@import './styles/multi-year.css';
@import './styles/calendar.css';

/* Default tokens (light) */
:root {
  /* Day cells */
  --pk-day-cell-border-radius: 8px;
  --pk-day-cell-height: 36px;
  --pk-day-cell-width: 36px;
  --pk-day-cell-selected-fg: white;
  --pk-day-cell-selected-bg: oklch(21% 0.034 264.665);
  --pk-day-cell-hover-fg: black;
  --pk-day-cell-hover-bg: oklch(96.7% 0.003 264.542);
  --pk-day-cell-today-fg: black;
  --pk-day-cell-today-bg: oklch(96.7% 0.003 264.542);
  --pk-day-cell-in-range-fg: white;
  --pk-day-cell-in-range-bg: oklch(44.6% 0.03 256.802);
  --pk-day-cell-blank-fg: oklch(87.2% 0.01 258.338);
  --pk-day-cell-blank-bg: transparent;

  /** Weekday cell **/
  --pk-weekday-cell: oklch(27.8% 0.033 256.848);

  /* Datepicker panel */
  --pk-datepicker-border: oklch(87.2% 0.01 258.338);
  --pk-datepicker-border-radius: 16px;
  --pk-datepicker-padding: 10px;
}

.pk-picker-datepicker {
  display: block;

  /* Calendar header */
  .pk-picker-calendar-month-header {
    display: flex;
    align-items: center;
    padding-top: 6px;
    padding-bottom: 6px;
  }
  pk-calendar-nav {
    display: inline-flex;
  }

  .pk-picker-calendar-nav {
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 100%;
    width: 32px;
    height: 32px;
    cursor: pointer;
    color: var(--pk-icon-fg);
    &:hover {
      background: var(--pk-bg-hover);
    }
  }

  .pk-picker-calendar-month-header-current {
    display: flex;
    align-items: center;
    gap: 8px;
    margin: 0 auto;
  }

  .pk-picker-calendar-month-header-current-year,
  .pk-picker-calendar-month-header-current-month {
    border-radius: 6px;
    padding: 4px 6px;
    cursor: pointer;
    &:hover {
      background: var(--pk-bg-hover);
    }
  }

  /* Button reset under pk-datepicker: remove UA defaults without adding a look */

  /* Base date cell */
  .pk-picker-date-cell {
    width: var(--pk-date-size);
    height: var(--pk-date-size);
    border-radius: var(--pk-date-radius);
    display: inline-grid;
    place-items: center;
    color: var(--pk-fg);
  }

  /* Hover and focus */
  .pk-picker-date-cell:not(.pk-picker-date-cell--disabled):hover {
    background: var(--pk-bg-hover);
  }
  .pk-picker-date-cell:focus-visible {
    outline: 2px solid color-mix(in oklab, var(--pk-selected-bg), black 10%);
    outline-offset: 2px;
  }

  /* Today */
  .pk-picker-date-cell--today {
    box-shadow: inset 0 0 0 2px var(--pk-today-ring);
  }

  /* Selected */
  .pk-picker-date-cell--selected {
    background: var(--pk-selected-bg);
    color: var(--pk-selected-fg);
  }

  /* Disabled */
  .pk-picker-date-cell--disabled {
    color: var(--pk-disabled-fg);
    pointer-events: none;
  }
}

/* Native popover anchored below the trigger */
.pk-picker-popover:popover-open {
  /* Use anchored positioning to place below origin */
  position: absolute;
  inset: auto;
  top: anchor(bottom);
  left: anchor(center);
  /* center horizontally and add vertical offset */
  translate: -50% 8px;
  /* Optional: prevent overly wide popover */
  max-width: min(100vw - 16px, 360px);
}
