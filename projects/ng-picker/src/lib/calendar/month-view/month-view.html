<div class="pk-picker-calendar-month-header">
  <button class="pk-picker-calendar-nav" (click)="goToPrevMonth.emit()">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      height="24px"
      viewBox="0 -960 960 960"
      width="24px"
      fill="currentColor"
    >
      <path d="M560-240 320-480l240-240 56 56-184 184 184 184-56 56Z" />
    </svg>
  </button>
  <div class="pk-picker-calendar-month-header-current">
    <button class="pk-picker-calendar-month-header-current-year" (click)="changeView.emit('year')">
      {{ currentMonth() }}
    </button>
    <button
      class="pk-picker-calendar-month-header-current-month"
      (click)="changeView.emit('multi-year')"
    >
      {{ currentYear() }}
    </button>
  </div>
  <button class="pk-picker-calendar-nav" (click)="goToNextMonth.emit()">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      height="24px"
      viewBox="0 -960 960 960"
      width="24px"
      fill="currentColor"
    >
      <path d="M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z" />
    </svg>
  </button>
</div>
<table
  class="pk-picker-month-view"
  role="grid"
  pkGrid
  (goToDown)="goToNextMonth.emit()"
  (goToUp)="goToPrevMonth.emit()"
  (goToLeft)="goToPrevMonth.emit()"
  (goToRight)="goToNextMonth.emit()"
>
  <thead>
    <tr>
      @for (week of weekDays(); track $index) {
      <th class="pk-picker-weekday-cell" aria-label="{{ week.long }}">
        {{ week.short }}
      </th>
      }
    </tr>
  </thead>
  @for (week of weekCells(); track $index) {
  <tr pkGridRow>
    @for (pad of startPad(week.startPad); track $index) {
    <td>
      <button disabled aria-hidden="true" class="pk-day-cell-blank">{{ pad.displayValue }}</button>
    </td>
    } @for (cell of week.cells; track $index) {
    <td>
      <button
        pkGridCell
        class="pk-day-cell"
        [class.pk-day-cell-selected]="cell.isSelected"
        [class.pk-day-cell-today]="cell.isToday"
        [class.pk-day-cell-in-range]="cell.isInRange"
        [disabled]="cell.isDisabled"
        (click)="selectDate.emit(cell)"
      >
        @let _cell=cell; @if(calendarCellRef();as _ref) {
        <ng-container
          *ngTemplateOutlet="_ref.tempRef; context: { $implicit: _cell }"
        ></ng-container>
        } @else{
        {{ _cell.displayValue }} }
      </button>
    </td>
    } @for (pad of endPad(week.endPad); track $index) {
    <td>
      <button disabled aria-hidden="true" class="pk-day-cell-blank">{{ pad.displayValue }}</button>
    </td>
    }
  </tr>
  }
</table>
